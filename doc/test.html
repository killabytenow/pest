<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title></title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@localhost" />
</head>

<body>



<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a>
    <ul>
      <li><a href="#Examples">Examples:</a></li>
      <li><a href="#Options">Options:</a></li>
      <li><a href="#Actions">Actions:</a></li>
    </ul>
  </li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#ACTIONS">ACTIONS</a></li>
  <li><a href="#OPTIONS">OPTIONS</a></li>
  <li><a href="#CONFIGURATION-FILE-FORMAT">CONFIGURATION FILE FORMAT</a>
    <ul>
      <li><a href="#IMPLICIT-GLOBAL-SECTION">IMPLICIT GLOBAL SECTION</a></li>
      <li><a href="#EST-CONFIGURATION-SECTION">EST CONFIGURATION SECTION</a></li>
      <li><a href="#TEST-CERTIFICATES-CONFIGURATION-SECTION">TEST CERTIFICATES CONFIGURATION SECTION</a></li>
      <li><a href="#TEST-HOOKS-SECTION">TEST HOOKS SECTION</a></li>
      <li><a href="#TESTS-DEFINITION-SECTION">TESTS DEFINITION SECTION</a></li>
    </ul>
  </li>
  <li><a href="#HOOKS">HOOKS</a>
    <ul>
      <li><a href="#Test-start">Test start</a></li>
      <li><a href="#Whitelist-population">Whitelist population</a></li>
    </ul>
  </li>
  <li><a href="#SEE-ALSO">SEE ALSO</a></li>
</ul>

<h1 id="NAME">NAME</h1>

<p>test - Test EST</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<h2 id="Examples">Examples:</h2>

<ul>

<pre><code>  ./test [options] [actions ...]
  ./test -c test-suite.conf -t local-config.conf run 1.3
  ./test -c all_in_one.conf gendata
  ./test -c all_in_one.conf run all
  ./test -c all_in_one.conf run [test_id1, test_id2, ...]
  ./test -c all_in_one.conf -s -b run all
  ./test -c all_in_one.conf -vD run 2.1
  ./test -c all_in_one.conf list
  ./test -c all_in_one.conf reset
  ./test -c all_in_one.conf clean -f</code></pre>

</ul>

<h2 id="Options">Options:</h2>

<ul>

<pre><code>  -b, --est-base64    Do not send full PEM, only Base64 encoded DER.
  -c, --config=s      Load configuration file. This option can be used multiple
                      times. Order will be respected.
  -D, --debug         Print debug information.
  -f, --force         Overwrite existing files. Force actions.
  -h, --help          Brief help message.
  -m, --man           Full documentation.
  -s, --est-strict    Make use of the RFC7030 Change Subject Name attribute.
  -v, --verbose       Verbose messages.
  -V, --version       Print version information.</code></pre>

</ul>

<h2 id="Actions">Actions:</h2>

<ul>

<pre><code>  clean               Delete all data (Requires -f flag)
  config              Dump parsed configuration (for debugging purposes)
  gendata             Generate CA and certificates used by tests.
  list                List tests and their current status (passed/failed)
  nop                 NOP
  reset               Delete all test ouput data (but keep generated certs)
  run                 Run a list of test (or all test if &#39;all&#39; is passed)</code></pre>

</ul>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p><b>TEST</b> is a Perl Test EST program designed for running a EST test suite against EST implementations. Test suites are created using own TEST test definition language.</p>

<p>Test suites are defined in one or more configuration files. See <a href="#CONFIGURATION-FILE-FORMAT">&quot;CONFIGURATION FILE FORMAT&quot;</a> for more details.</p>

<h1 id="ACTIONS">ACTIONS</h1>

<p>Each invocation to <b>TEST</b> must be accompanied by an action:</p>

<ul>

<dl>

<dt id="clean"><b>clean</b></dt>
<dd>

<p>This action will delete all data generated by a test suite, including certificates and CA/SubCA generated by action <i>gendata</i>.</p>

<p>This action will refuse working if flag <i>--force</i> is not set.</p>

</dd>
<dt id="config"><b>config</b></dt>
<dd>

<p>Dump consolidaed and parsed configuration from configuration files. Output is in <a>Data::Dumper</a> format.</p>

<p>This action is designed for desesperated debugging purposes.</p>

</dd>
<dt id="gendata"><b>gendata</b></dt>
<dd>

<p>Build all certificates and CA/SubCA structure defined in section <a href="#TEST-CERTIFICATES-CONFIGURATION">&quot;TEST CERTIFICATES CONFIGURATION&quot;</a> by the configuration files.</p>

<p>This data will be written in path set by the global parameter <i>certdir</i>.</p>

</dd>
<dt id="list"><b>list</b></dt>
<dd>

<p>This command will list all tests defined by the configuration files, and their current status (passed/failed/pending/error).</p>

</dd>
<dt id="nop"><b>nop</b></dt>
<dd>

<p>Nothing to see here. Move along.</p>

</dd>
<dt id="reset"><b>reset</b></dt>
<dd>

<p>This action will delete all output generated by tests. Note that certificates and CA/SubCA generated by the action <i>gendata</i> will remain untouched.</p>

</dd>
<dt id="run"><b>run</b></dt>
<dd>

<p>This action run the list of tests (by id) passed as arguments.</p>

</dd>
</dl>

</ul>

<h1 id="OPTIONS">OPTIONS</h1>

<p><b>TEST</b> supports the following options:</p>

<ul>

<dl>

<dt id="b---est-base64"><b>-b</b>, <b>--est-base64</b></dt>
<dd>

<p>It instructs <b>pest</b> to be more RFC respectful during enrollment, and do not send the CSR in PEM format (i.e. exclude <code>---BEGIN CERTIFICATE REQUEST-----</code> headers and such). It only sends the CSR encoded in DER format, transferring it with base64 encoding.</p>

</dd>
<dt id="c---config-s"><b>-c</b>, <b>--config</b>=<i>s</i></dt>
<dd>

<p>This option can be defined multiple times, and it is processed in the same order than it is set in the command line.</p>

<p>It loads configuration files, one after another. Configuration files may overwrite or add new information to each section.</p>

</dd>
<dt id="D---debug"><b>-D</b>, <b>--debug</b></dt>
<dd>

<p>Dump HTTP communications and other useful debug information. This flag also enables verbosity (see <i>-v</i>).</p>

</dd>
<dt id="f---force"><b>-f</b>, <b>--force</b></dt>
<dd>

<p>Overwrite existing files. Force actions.</p>

</dd>
<dt id="h---help"><b>-h</b>, <b>--help</b></dt>
<dd>

<p>Print a brief help message and exits.</p>

</dd>
<dt id="m---man"><b>-m</b>, <b>--man</b></dt>
<dd>

<p>Prints the manual page and exits.</p>

</dd>
<dt id="s---est-strict"><b>-s</b>, <b>--est-strict</b></dt>
<dd>

<p>This flag enables the EST-RFC7030 strict interpretation. This means that during enrollments, if certificate based authentication is used, Subject Name changes will be requested using the Change Subject Name attributes described in the RFC730.</p>

<p>This flag can be also configured from a configuration file using the <i>strict</i> parameter in the <a href="#EST-CONFIGURATION-SECTION">&quot;EST CONFIGURATION SECTION&quot;</a> section.</p>

</dd>
<dt id="v---verbose"><b>-v</b>, <b>--verbose</b></dt>
<dd>

<p>Verbose messages.</p>

</dd>
<dt id="V---version"><b>-V</b>, <b>--version</b></dt>
<dd>

<p>Print version information.</p>

</dd>
</dl>

</ul>

<h1 id="CONFIGURATION-FILE-FORMAT">CONFIGURATION FILE FORMAT</h1>

<p>Configuration files contain:</p>

<ul>

<p>- Configuration parameters.</p>

<p>- The certificates, test CA and test Sub-CA schema for building the test certificates.</p>

<p>- Hooks for executing external programs during tests.</p>

<p>- Tests.</p>

</ul>

<p>Configuration files may contain comments. Comments are always ignored, and they must start with the hash character <code>#</code> and they finish at the end of the line.</p>

<p>Examples:</p>

<pre><code>  parameter = value  # this is a comment about this parameter
  my_param =  # this seems assigning a comment to a parameter, but it
              # is not true: my param will not have any value assigned</code></pre>

<p>A configuration file is divided into several sections. There are standard fixed sections and test sections, each one distinguished by its own <i>id</i>. Examples of directives opening different sections:</p>

<pre><code>  [est]
    ... here goes &#39;est&#39; configuration parameters ...

  [test my_test]
    ... here goes my test definition ...

  [hooks]
    ... here is where hooks are installed ...</code></pre>

<p>Each configuration is described in detail in the following sections.</p>

<h2 id="IMPLICIT-GLOBAL-SECTION">IMPLICIT GLOBAL SECTION</h2>

<p>Any parameter set before any section is opened is set in the implicit global section.</p>

<p>Global parameters are global configuration parameters for configuring the most basic parameters of the TEST and PEST applications.</p>

<ul>

<dl>

<dt id="ca_bits-number"><b>ca_bits</b>=<i>number</i></dt>
<dd>

<p>This parameter is used for configuring the CA/SubCA private key key sizes.</p>

</dd>
<dt id="cert_bits-number"><b>cert_bits</b>=<i>number</i></dt>
<dd>

<p>This parameter is used for configuring certificates private key key sizes.</p>

</dd>
<dt id="certdir-path-to-test-certificates"><b>certdir</b>=<i>path to test certificates</i></dt>
<dd>

<p>Sets the target directory where test certificates will be written and kept.</p>

</dd>
<dt id="outdir-path-to-test-output"><b>outdir</b>=<i>path to test output</i></dt>
<dd>

<p>Path where test output will be written to.</p>

</dd>
<dt id="pest-path-to-pest-program"><b>pest</b>=<i>path to pest program</i></dt>
<dd>

<p>Path where pest can be found (usually <i>../pest</i>).</p>

</dd>
<dt id="force-1-enabled-0-disabled"><b>force</b>=<i>1 enabled, 0 disabled</i></dt>
<dd>

<p>For configuring the command line <i>--force</i> flag from a configuration file.</p>

</dd>
<dt id="verbose-1-enabled-0-disabled"><b>verbose</b>=<i>1 enabled, 0 disabled</i></dt>
<dd>

<p>Enables verbose mode. Same as command line <i>--verbose</i> flag.</p>

</dd>
<dt id="debug-1-enabled-0-disabled"><b>debug</b>=<i>1 enabled, 0 disabled</i></dt>
<dd>

<p>Enables debug mode. Same as command line <i>--debug</i> flag.</p>

</dd>
</dl>

</ul>

<h2 id="EST-CONFIGURATION-SECTION">EST CONFIGURATION SECTION</h2>

<p>This section is opened using the following directive:</p>

<pre><code>  [est]</code></pre>

<p>Options and parameters related to EST server configuration.</p>

<ul>

<dl>

<dt id="ca-path"><b>ca</b>=<i>path</i></dt>
<dd>

<p>Path to the CA Chain PEM file used by the EST server for authenticating itself (over HTTPS communications) and issuing certificates.</p>

</dd>
<dt id="url-url"><b>url</b>=<i>url</i></dt>
<dd>

<p>Base EST HTTPS URL service (e.g. <a href="https://rfctest7030.com/.well-known/est">https://rfctest7030.com/.well-known/est</a>).</p>

</dd>
<dt id="plain_base64-1-plain-base64-0-send-PEM-file"><b>plain_base64</b>=<i>1 plain base64, 0 send PEM file</i></dt>
<dd>

<p>If this flag is enabled, it instructs the <b>pest</b> tool to be more RFC respectful during enrollment, and do not send the CSR in PEM format (i.e. exclude <code>---BEGIN CERTIFICATE REQUEST-----</code> headers and such). It only sends the CSR encoded in DER format, transferring it with base64 encoding.</p>

</dd>
<dt id="strict-1-enabled-0-disabled"><b>strict</b>=<i>1 enabled, 0 disabled</i></dt>
<dd>

<p>This flag enables the EST-RFC7030 strict interpretation. This means that during enrollments, if certificate based authentication is used, Subject Name changes will be requested using the Change Subject Name attributes described in the RFC730.</p>

<p>This flag can be set also from command line using the <i>--est-strict</i> flag.</p>

</dd>
<dt id="creds-credentials"><b>creds</b>=<i>credentials</i></dt>
<dd>

<p>Default HTTP BASIC credentials used by TEST when accessing the EST server. This credentials may be overrided by test during enrollments. See <a href="#TESTS-DEFINITION-SECTIONS">&quot;&quot;TESTS DEFINITION SECTIONS&quot;</a> description below.</p>

</dd>
<dt id="issuer_subject_name-subject"><b>issuer_subject_name</b>=<i>subject</i></dt>
<dd>

<p>Issuer subject name (e.g. <code>/CN=TestCA/O=MyEnrollmentCA/C=ES</code>) of the certificates delivered by the EST server during enrollments.</p>

</dd>
</dl>

</ul>

<h2 id="TEST-CERTIFICATES-CONFIGURATION-SECTION">TEST CERTIFICATES CONFIGURATION SECTION</h2>

<p>This section is opened using the following directive:</p>

<pre><code>  [certificates]</code></pre>

<p>Each non-void line of this section is interpreted as a certificate/CA/Sub-CA declaration.</p>

<p>Each line is a sequence of columns, each column separated by one or more blank space characters, and values may be enclosed by double quote characters. Here follows an example of a simple <i>certificates</i> section:</p>

<pre><code>  [certificates]
  # Id      CA   Subject                                                   Issuer
  # ------  ---  --------------------------------------------------------  ------
    FakeCA  yes  &quot;/CN=estExampleCA&quot;                                        -
    BadCert no   &quot;/CN=test1&quot;                                               FakeCA</code></pre>

<p>In this example a fake (self-signed root) certification authority, identified by the ID <code>FakeCA</code> with subject name <code>/CN=estExampleCA</code> is created. This fake CA is used for issuing the certificate <code>BadCert</code> with subject <code>/CN=test1</code>.</p>

<ul>

<p>- The <i>Id</i> field is used for referring to these certifciates from tests.</p>

<p>- The <i>CA</i> flag tells if this certificate is for a CA/SubCA (yes) or a end certificate (no).</p>

<p>- The <i>Subject</i> field is used for configuring the <i>Subject Name</i> X.509 certificate attribute.</p>

<p>- The <i>Issuer</i> field is used for deciding who must sign this certificate. Use dash character (-) for issuing a self-signed certificate.</p>

</ul>

<h2 id="TEST-HOOKS-SECTION">TEST HOOKS SECTION</h2>

<p>This section is opened using the following directive:</p>

<pre><code>  [hooks]</code></pre>

<p>This section is for installing hook programs that will be invoked during tests.</p>

<p>Hooks can be useful for configuring the EST CA or EST service automatically during runtime. For instance, adding automatically authorizations in the validation authority used by the EST server.</p>

<p>The following hooks are supported at this moment:</p>

<ul>

<dl>

<dt id="test_start-path"><b>test_start</b>=<i>path</i></dt>
<dd>

<p>Path to the program that will be run each time a test is started.</p>

</dd>
<dt id="test_whitelist_add-path"><b>test_whitelist_add</b>=<i>path</i></dt>
<dd>

<p>Path to a program that will be run for each element declared in a test whitelist.</p>

</dd>
</dl>

</ul>

<p>Go to section <a href="#HOOKS">&quot;HOOKS&quot;</a> if you are looking for examples and details about hooks.</p>

<h2 id="TESTS-DEFINITION-SECTION">TESTS DEFINITION SECTION</h2>

<p>A new test can be created opening a new section for it. Test section have the following format:</p>

<pre><code>  [test &lt;test_id&gt;]</code></pre>

<p>The <i>test_id</i> string is the test identifier.</p>

<p>Tests are composed by steps and enrollment actions. Steps and enrollment actions can be observed easily in the following code excerpt:</p>

<pre><code>   1. [test 3.1]
   2. title     = Reenrolling a device
   3. whitelist = \
   4.         (cred=estuser:estpwd, /CN=test_3.1) \
   5.         (cert=test_3.1-1-1,   /CN=test_3.1) \
   6.         (cert=test_3.1-2-1,   /CN=test_3.1)
   7.         
   8.         # enroll first -- leave enroll in &#39;test_3.1-1-1&#39;
   9.         1/action  = simpleenroll
  10.         1/in      = \
  11.                 (cred=estuser:estpwd,/CN=test_3.1) &gt; test_3.1-1-1
  12.         
  13.         # try to reenroll two times, chaining correct certs
  14.         #        both tries should work
  15.         2/action  = simplereenroll
  16.         2/in      = \
  17.                 (cert=test_3.1-1-1, /CN=test_3.1) &gt; test_3.1-2-1 \
  18.                 (cert=test_3.1-2-1, /CN=test_3.1) ++</code></pre>

<p>Line by line:</p>

<ul>

<pre><code>   1. [test 3.1]
   2. title     = Reenrolling a device</code></pre>

<p>These two lines starts the test definition of test <i>Reenrolling a device</i>, with id <code>3.1</code>.</p>

<pre><code>   3. whitelist = \
   4.         (cred=estuser:estpwd, /CN=test_3.1) \
   5.         (cert=test_3.1-1-1,   /CN=test_3.1) \
   6.         (cert=test_3.1-2-1,   /CN=test_3.1)</code></pre>

<p>The <i>whitelist</i> parameters declares the upcoming authorized enrollments. In this example we are declaring that the following enrollments will be accepted:</p>

<ul>

<p>1. A password-based enrollment of a certificate with credentials <code>estuser:estpwd</code> and requesting the subject name <code>/CN=test_3.1</code>.</p>

<p>2. A certificate-based reenrollment of a certificate using the certificate referenced by the ID <code>test_3.1-1-1</code>. This reenrollment will request the previous CN requested during enrollment.</p>

<p>3. Another certificate-based reenrollment but using this time the <code>test_3.1-2-1</code> certificate, and the same CN used before.</p>

</ul>

<pre><code>   9.         1/action  = simpleenroll
  10.         1/in      = \
  11.                 (cred=estuser:estpwd,/CN=test_3.1) &gt; test_3.1-1-1</code></pre>

<p>These two parameters describe the step 1. In this first step a client will request a X.509 certificate with the subject name <code>/CN=test_3.1</code>, and authenticating itself using secret credentials.</p>

<p>The returned certificate will be stored and referenced in next steps by the certificate id <code>test_3.1-1-1</code>.</p>

<pre><code>  15.         2/action  = simplereenroll
  16.         2/in      = \
  17.                 (cert=test_3.1-1-1, /CN=test_3.1) &gt; test_3.1-2-1 \
  18.                 (cert=test_3.1-2-1, /CN=test_3.1) ++</code></pre>

<p>In this step, two reenrollments are performed sequentially. The first reenrollment uses the previous certificate <code>test_3.1-1-1</code> and stores the new certificate in <code>test_3.1-2-1</code>. The second reenrollment uses the certificate obtained in the previous reenrollment (<code>test_3.1-2-1</code>). The <code>++</code> particle makes explicit that this step must be succesful.</p>

</ul>

<p>In the described example above, <b>all</b> steps and enrollments must be succesful to consider this test PASSED. Nevertheless, sometimes failing may be the correct option. Take a look into the following example:</p>

<pre><code>   1. [test 2.2]
   2. title     = Enroll 1 ok, 4 bad
   3. whitelist = (cred=estuser:estpwd,/CN=test_2.2)
   4. 
   5.         1/action  = simpleenroll
   6.         1/in      = \
   7.                 (cred=estuser:estpwd, /CN=test_2.2) ++ \
   8.                 (cred=___user:estpwd, /CN=test_2.2) !! \
   9.                 (cred=estuser:___pwd, /CN=test_2.2) !! \
  10.                 (cred=___user:___pwd, /CN=test_2.2) !! \
  11.                 (cred=estuser:estpwd, /CN=test_2.2) !! \
  12.                 (                     /CN=test_2.2) !!</code></pre>

<p>Note than whitelist only declares one succeful enrollment. Once a whitelist-enrollment has been used, it cannot be used again. That it is the reason that only test in line 7 is marked as succesful with the particle <code>++</code>, and the rest of enrollments are marked as failures <code>!!</code>, including the enrollment in line 11 (exactly equal to enrollment set in line 7).</p>

<p>If we would like to fix <i>test 2.2</i> for accepting both enrollments in lines 7 and 11, the following whitelist should be used:</p>

<pre><code>      whitelist = \
              (cred=estuser:estpwd,/CN=test_2.2) \
              (cred=estuser:estpwd,/CN=test_2.2)</code></pre>

<p>The test definitions section accept the following parameters:</p>

<ul>

<dl>

<dt id="title-title"><b>title</b>=<i>title</i></dt>
<dd>

<p>Test title.</p>

</dd>
<dt id="whitelist-authorized-enrollments-list"><b>whitelist</b>=<i>authorized enrollments list</i></dt>
<dd>

<p>Authorized enrollments and reenrollments. Syntax for each authorization:</p>

<ul>

<p>(<code>cred</code>=<i>credentials</i>, <code>cert</code>=<i>certificate_id</i>, <i>Subject_Name</i>)</p>

</ul>

<p>The <i>cred</i> and <i>cert</i> fields are optional. <i>Subject_Name</i> is mandatory.</p>

</dd>
<dt id="step_id-action-EST-action"><i>step_id</i>/<b>action</b>=<i>EST action</i></dt>
<dd>

<p>EST action used by this step (e.g. <code>simpleenroll</code> or <code>cacerts</code>).</p>

</dd>
<dt id="step_id-in-EST-action"><i>step_id</i>/<b>in</b>=<i>EST action</i></dt>
<dd>

<p>Enrollments and reenrollments. Syntax for each enrollment:</p>

<ul>

<p>(<code>cred</code>=<i>credentials</i>, <code>cert</code>=<i>certificate_id</i>, <i>Requested_Subject_Name</i>) [<code>!!</code>|<code>++</code>|&gt; <i>cert_id</i>]</p>

</ul>

<p>The <i>cred</i> and <i>cert</i> fields are optional. <i>Requested_Subject_Name</i> field is mandatory.</p>

<p>Test may declare explicitly if they will be sucessful (using particle <code>++</code>) or if they will fail (using the particle <code>!!</code>).</p>

<p>Finally, one enrollment may save the returned certificate using the &gt; operator. This operator requires enrollment to be succesful, and the returned certificate will be identified by the <i>cert_id</i> identifier.</p>

</dd>
</dl>

</ul>

<h1 id="HOOKS">HOOKS</h1>

<h2 id="Test-start">Test start</h2>

<p>A custom program can be triggered each time a new test is started. Example of <i>test start</i> hook:</p>

<pre><code>  #!/bin/bash
  
  TEST_ID=&quot;$1&quot;
  
  msg()
  {
    echo &quot;HOOK(test_start): $@&quot;
  }
  
  msg &quot;New test started&quot;
  msg &quot;  Test ID [$TEST_ID]&quot;
  
  exit 0</code></pre>

<h2 id="Whitelist-population">Whitelist population</h2>

<p>A custom program can be triggered for each authorization declared in a test whitelist. Example:</p>

<pre><code>  #!/bin/bash
  
  TEST_ID=&quot;$1&quot;               ; shift
  CERTIFICATE_ID=&quot;$1&quot;        ; shift
  CERTIFICATE_SN=&quot;$1&quot;        ; shift
  CERTIFICATE_ISSUER_ID=&quot;$1&quot; ; shift
  CERTIFICATE_ISSUER_SN=&quot;$1&quot; ; shift
  CREDS=&quot;$1&quot;                 ; shift
  REQUESTED_SN=&quot;$1&quot;          ; shift
  
  msg()
  {
    echo &quot;HOOK(whitelist_add): $@&quot;
  }
  
  msg &quot;Adding whitelist entry to test [$TEST_ID]&quot;
  msg &quot;  - Requested subject [$REQUESTED_SN]&quot;
  
  if [ &quot;$CERTIFICATE_ID&quot; ]; then
    msg &quot;  - Certificate based authentication&quot;
    msg &quot;    - Certificate Issuer ID  [$CERTIFICATE_ISSUER_ID] ($CERTIFICATE_ISSUER_SN)&quot;
    msg &quot;    - Certificate ID [$CERTIFICATE_ID] ($CERTIFICATE_SN)&quot;
  else
    if [ &quot;$CREDS&quot; ]; then
      msg &quot;  - Password based authentication&quot;
    else
      msg &quot;  - Authentication mechanism not set - ERROR&quot;
      exit 1
    fi
  fi
  
  if [ &quot;$CREDS&quot; ]; then
    msg &quot;  - EST credentials: $CREDS&quot;
  fi

  exit 0</code></pre>

<h1 id="SEE-ALSO">SEE ALSO</h1>

<dl>

<dt id="pest"><a>pest</a></dt>
<dd>

<p>PEST manual page.</p>

</dd>
<dt id="test.conf"><a>test.conf</a></dt>
<dd>

<p>A complete test suite for testing an EST server supporting enrollments based on third-party CA issued certificates. This means that clients authenticate themselves using a certificate belonging to an external CA during enrollment. Once they are enrolled, re-enrollments are conducted using the EST CA.</p>

</dd>
<dt id="demo.conf-in-demo"><a>&quot;demo.conf&quot; in demo</a></dt>
<dd>

<p>A complete (and simpler) test suite for testing the public EST service found in <a href="http://testrfc7030.com/">http://testrfc7030.com/</a>.</p>

</dd>
<dt id="http:-www.testrfc7030.com"><a href="http://www.testrfc7030.com/">http://www.testrfc7030.com/</a></dt>
<dd>

<p>This server can be used to test the EST protocol as defined in RFC 7030.</p>

</dd>
</dl>


</body>

</html>


